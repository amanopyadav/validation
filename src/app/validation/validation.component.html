<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registration Form</title>
</head>
<body class="mat-typography">
    <div class="mat-elevation-z4" style="max-width: 600px; margin: auto; padding: 60px; border-radius: 25px; background-color: #f9f9f918;">
        <h1 style="text-align: center;">Registration Form</h1>
        <form [formGroup]="form" (ngSubmit)="onSubmit()">
            <div>
                <label for="date">Date:</label><br>
            </div>
            <div style="display: flex;">
                <mat-form-field appearance="fill">
                    <mat-label>Start Date</mat-label>
                    <input matInput [matDatepicker]="startDatePicker" id="start_date" name="start_date" formControlName="start_date">
                    <mat-datepicker-toggle matSuffix [for]="startDatePicker"></mat-datepicker-toggle>
                    <mat-datepicker #startDatePicker></mat-datepicker>
                    <mat-error *ngIf="form.get('start_date')?.errors?.['required'] && form.get('start_date')?.touched">Start date is required.</mat-error>
                </mat-form-field>
                <div style="margin-left: 10px;">
                    <mat-form-field appearance="fill">
                        <mat-label>End Date</mat-label>
                        <input matInput [matDatepicker]="endDatePicker" id="end_date" name="end_date" formControlName="end_date">
                        <mat-datepicker-toggle matSuffix [for]="endDatePicker"></mat-datepicker-toggle>
                        <mat-datepicker #endDatePicker></mat-datepicker>
                        <mat-error *ngIf="form.get('end_date')?.errors?.['required'] && form.get('end_date')?.touched">End date is required.</mat-error>
                        <mat-error *ngIf="form.get('end_date')?.value && form.get('start_date')?.value && form.get('start_date')?.value > form.get('end_date')?.value">End date must be greater than or equal to start date.</mat-error>
                    </mat-form-field>
                </div>
            </div>
            <div>
                <mat-form-field appearance="fill">
                    <mat-label>Email ID</mat-label>
                    <input matInput type="email" id="email" name="email" formControlName="email">
                    <mat-error *ngIf="form.get('email')?.errors?.['required'] && form.get('email')?.touched">Email is required.</mat-error>
                    <mat-error *ngIf="form.get('email')?.errors?.['email'] && form.get('email')?.touched">Invalid email format.</mat-error>
                </mat-form-field>
            </div>
            <div>
                <mat-form-field appearance="fill">
                    <mat-label>Password</mat-label>
                    <input matInput type="password" id="password" name="password" formControlName="password">
                    <mat-error *ngIf="form.get('password')?.errors?.['required'] && form.get('password')?.touched">Password is required.</mat-error>
                    <mat-error *ngIf="form.get('password')?.errors?.['minlength'] && form.get('password')?.touched">Password must be at least 8 characters long.</mat-error>
                </mat-form-field>
            </div>
            <div>
                <mat-form-field appearance="fill">
                    <mat-label>Confirm Password</mat-label>
                    <input matInput type="password" id="confirm_password" name="confirm_password" formControlName="confirm_password">
                    <mat-error *ngIf="form.get('confirm_password')?.errors?.['required'] && form.get('confirm_password')?.touched">Confirm password is required.</mat-error>
                    <mat-error *ngIf="form.errors?.['passwordMismatch'] && form.get('confirm_password')?.touched">Passwords do not match.</mat-error>
                </mat-form-field>
            </div>
            <div>
                <button mat-raised-button color="accent" type="submit">Submit</button>
            </div>                     
            <div *ngIf="registrationSuccess">
                <p style="color: green; text-align: center;">Registration form filled successfully!</p>
            </div>
        </form>
    </div>
</body>
</html>
